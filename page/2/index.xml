<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kip Jiang</title>
    <link>https://kipjiang.github.io/</link>
    <description>Recent content on Kip Jiang</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>2019-2020 &amp;#183; [Kip Jiang](/)</copyright>
    <lastBuildDate>Sat, 11 Jul 2020 20:19:58 +0800</lastBuildDate>
    
        <atom:link href="https://kipjiang.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>Display Git Branch Name in Bash</title>
        <link>https://kipjiang.github.io/note/2019/05/23/display-git-branch-name-in-bash/</link>
        <pubDate>Thu, 23 May 2019 15:38:03 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2019/05/23/display-git-branch-name-in-bash/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2019/05/23/display-git-branch-name-in-bash/ -&lt;h2 id=&#34;first&#34;&gt;First&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;将脚本下载到 Home 目录&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ git clone https://github.com/KipJiang/git-aware-prompt.git ~/git-aware-prompt
$ mv ~/git-aware-prompt ~/.git-aware-prompt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;修改配置文件 &lt;code&gt;.bashrc&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vim ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;添加如下内容&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# source .git-aware-prompt&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;export PS1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\${debian_chroot:+(\$debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\] \[$txtcyn\]\$git_branch\[$txtred\]\$git_dirty\[$txtrst\]\$ &amp;#34;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;export GITAWAREPROMPT&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;~/.git-aware-prompt&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;source &amp;#34;${GITAWAREPROMPT}/main.sh&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;使配置生效&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;效果&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ubuntu&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kipjiang.github.io/img/2019-05-23/ubuntu-git-color.png&#34; alt=&#34;ubuntu-git-color&#34;&gt;&lt;/p&gt;
&lt;p&gt;CentOS&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kipjiang.github.io/img/2019-05-23/centos-git-color.png&#34; alt=&#34;centos-git&amp;ndash;color&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;second&#34;&gt;Second&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑 &lt;code&gt;~/.bashrc&lt;/code&gt;，添加如下内容&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# git branch function&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;function git_branch {&lt;/span&gt;
   &lt;span style=&#34;color:#a6e22e&#34;&gt;branch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;`git branch 2&amp;gt;/dev/null | grep &amp;#34;^\*&amp;#34; | sed -e &amp;#34;s/^\*\ //&amp;#34;`&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;   if [ &amp;#34;${branch}&amp;#34; != &amp;#34;&amp;#34; ];then
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;       if [ &amp;#34;${branch}&amp;#34; = &amp;#34;(no branch)&amp;#34; ];then
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;           branch=&amp;#34;(`git rev-parse --short HEAD`...)&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;       fi
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;       echo &amp;#34; ($branch)&amp;#34;
&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;   fi&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color:#a6e22e&#34;&gt;export PS1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\u@\h \[\033[01;36m\]\W\[\033[01;32m\]$(git_branch)\[\033[00m\] \$ &amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;使配置生效&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ source ~/.bashrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;third&#34;&gt;Third&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;编辑 &lt;code&gt;~/.profile&lt;/code&gt;，添加如下内容&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# git branch function&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;parse_git_branch() {&lt;/span&gt;
     &lt;span style=&#34;color:#a6e22e&#34;&gt;git branch 2&amp;gt; /dev/null | sed -e &amp;#39;/^[^*]/d&amp;#39; -e &amp;#39;s/* \(.*\)/ (\1)/&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;export PS1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;\u@\h \[\033[32m\]\w\[\033[33m\]\$(parse_git_branch)\[\033[00m\] $ &amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;使配置生效&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ source ~/.profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;- https://kipjiang.github.io/note/2019/05/23/display-git-branch-name-in-bash/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
  </channel>
</rss> 