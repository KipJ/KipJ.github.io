<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kip Jiang</title>
    <link>https://kipjiang.github.io/</link>
    <description>Recent content on Kip Jiang</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>2019-2020 &amp;#183; [Kip Jiang](/)</copyright>
    <lastBuildDate>Sat, 11 Jul 2020 22:20:12 +0800</lastBuildDate>
    
        <atom:link href="https://kipjiang.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>Install Qv2ray in Ubunut</title>
        <link>https://kipjiang.github.io/note/2020/07/11/qv2ray-in-ubuntu/</link>
        <pubDate>Sat, 11 Jul 2020 22:20:12 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/07/11/qv2ray-in-ubuntu/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/07/11/qv2ray-in-ubuntu/ -&lt;h2 id=&#34;ssr&#34;&gt;SSR&lt;/h2&gt;
&lt;p&gt;之前用的 VPS 到期，而重新搭建服务太麻烦，就直接购买别人已经搭建好的 SSR 服务。&lt;/p&gt;
&lt;p&gt;但是，服务商提供的小飞机 ShadowsocksR 不好用，我将它换成了 &lt;a href=&#34;https://qv2ray.github.io/&#34;&gt;Qv2ray&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;已经使用几周，体验还不错。&lt;/p&gt;
&lt;h2 id=&#34;qv2ray&#34;&gt;Qv2ray&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://qv2ray.github.io/&#34;&gt;Qv2ray&lt;/a&gt; 运行在 &lt;a href=&#34;https://www.v2ray.com/&#34;&gt;v2ray&lt;/a&gt; 内核基础上，通过插件的形式提供对 SSR 的支持。&lt;/p&gt;
&lt;h3 id=&#34;download-softwares&#34;&gt;Download Softwares&lt;/h3&gt;
&lt;p&gt;需要下载三样东西：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Qv2ray/Qv2ray/releases&#34;&gt;Qv2ray&lt;/a&gt; 客户端，我为 Ubuntu 下载的是 &lt;a href=&#34;https://github.com/Qv2ray/Qv2ray/releases/tag/v2.6.0&#34;&gt;Qv2ray.v2.6.0.linux-x64.AppImage&lt;/a&gt;。AppImage 格式的文件，只需为其添加运行权限即可，免去安装各种依赖的痛苦。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/v2ray/v2ray-core/releases&#34;&gt;v2ray-core&lt;/a&gt; 内核，我这里下载 &lt;a href=&#34;https://github.com/v2ray/v2ray-core/releases/tag/v4.26.0&#34;&gt;v2ray-linux-64 v4.26.0&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Qv2ray/QvPlugin-SSR&#34;&gt;QvPlugin-SSR&lt;/a&gt; 插件，下载 &lt;a href=&#34;https://github.com/Qv2ray/QvPlugin-SSR/releases/tag/v2.0.0&#34;&gt;QvSSRPlugin.v2.0.0.linux-x64.so&lt;/a&gt; 正式版，其刚好适配 Qv2ray v2.6.0 正式版。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;configure-qv2ray&#34;&gt;Configure Qv2ray&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;可执行权限&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将 Qv2ray.v2.6.0.linux-x64.AppImage 放置在 &lt;code&gt;~/.config/qv2ray/&lt;/code&gt; 路径下，并赋予其可执行权限：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ chmod +x Qv2ray.v2.6.0.linux-x64.AppImage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Add to Launcher&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编辑应用配置文件：&lt;code&gt;/usr/share/applications/qv2ray.desktop&lt;/code&gt;：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo vim /usr/share/applications/qv2ray.desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;配置如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[Desktop Entry]&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Qv2ray&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Name[zh_CN]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Qv2ray&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Comment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;VPN&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Comment[zh_CN]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;VPN&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/home/kip/.config/qv2ray/Qv2ray.v2.6.0.linux-x64.AppImage&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Icon&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/home/kip/.config/qv2ray/qv2ray.png&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Terminal&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Application&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Categories&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Application;VPN;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Encoding&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;UTF-8&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;StartupNotify&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;其中的 &amp;lsquo;Icon&amp;rsquo;，可以去其 GitHub 主页下载。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;保存退出后，就可以在 Dash 中搜索 qv2ray 并将之添加到快速启动栏。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/07/12/gq4AlkJvpBxiWdU.png&#34; alt=&#34;qv2ray-1.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;configure-v2ray-core&#34;&gt;Configure v2ray-core&lt;/h3&gt;
&lt;p&gt;将 v2ray-linux-64.zip 加压到 &lt;code&gt;~/.config/qv2ray/vcore/&lt;/code&gt; 路径下，并在 「Preferences &amp;ndash;&amp;gt; Kernel Settings」下，点击 「Check V2ray Core Settings」 检查是否通过。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/07/12/mTunoFz9SIdYseK.png&#34; alt=&#34;v2ray-passed.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;configure-ssr-plugin&#34;&gt;Configure SSR Plugin&lt;/h3&gt;
&lt;p&gt;将插件 QvSSRPlugin.v2.0.0.linux-x64.so 复制到路径 &lt;code&gt;~/.config/qv2ray/plugins/&lt;/code&gt; 下。&lt;/p&gt;
&lt;p&gt;重新启动 Qv2ray 客户端，点击 「Plugins」，可以看到 SSR 插件已经被识别到了。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/07/12/UjZ5wRv27qnEfGI.png&#34; alt=&#34;SSR.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;add-subscription&#34;&gt;Add Subscription&lt;/h3&gt;
&lt;p&gt;点击 Qv2ray 主界面的 「Groups/Subscription」，将你的订阅地址填入并点击更新。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/07/12/xaYlULtcCKHZy2B.png&#34; alt=&#34;subscription.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;待更新完成后，在主界面双击相应的节点，即可启动代理。&lt;/p&gt;
- https://kipjiang.github.io/note/2020/07/11/qv2ray-in-ubuntu/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Install Ubuntu as A Second OS</title>
        <link>https://kipjiang.github.io/post/2020/07/11/dual-os/</link>
        <pubDate>Sat, 11 Jul 2020 20:19:58 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/post/2020/07/11/dual-os/</guid>
        <description>Kip Jiang https://kipjiang.github.io/post/2020/07/11/dual-os/ -&lt;h2 id=&#34;a-new-computer&#34;&gt;A New Computer&lt;/h2&gt;
&lt;p&gt;I got a new Dell computer several weeks ago, which installed the Windows 10. The computer has 2 disks, a 120Gb SSD and a 1T HDD.&lt;/p&gt;
&lt;p&gt;I reserved 430G of HDD space and installed a ubuntu 20.04 as my second os, but I met some troubles  because of the new UEFI system.&lt;/p&gt;
&lt;h2 id=&#34;deal-with-it&#34;&gt;Deal with It&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;New Tool&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;At the beginning, I used an old version of  &lt;a href=&#34;https://cn.ultraiso.net/&#34;&gt;UltraISO&lt;/a&gt; to make the USB boot system, but the UEFI system even can not recognize it.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been stuck here for a long time and found a useful tool &lt;a href=&#34;https://rufus.ie/&#34;&gt;Rufus&lt;/a&gt; that can deal with the UEFI firmware.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Boot Loader&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The bootloader of ubuntu was installed in the UEFI partition where the Windows Boot Manager is located, although I chose to install it at the root partition of ubuntu during installation.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/07/11/QjtcmVr3f2pRxUq.png&#34; alt=&#34;install.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;More&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally, I learned that the UltraISO can also make USB boot media compatible with UEFI. 😂&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;It wasted my whole day, really!&lt;/p&gt;
- https://kipjiang.github.io/post/2020/07/11/dual-os/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Change to New Theme</title>
        <link>https://kipjiang.github.io/post/2020/06/16/change-to-new-theme/</link>
        <pubDate>Tue, 16 Jun 2020 22:01:13 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/post/2020/06/16/change-to-new-theme/</guid>
        <description>Kip Jiang https://kipjiang.github.io/post/2020/06/16/change-to-new-theme/ -&lt;h2 id=&#34;hugo-theme-diary&#34;&gt;Hugo Theme Diary&lt;/h2&gt;
&lt;p&gt;I change my blog to a new hugo theme &lt;a href=&#34;https://github.com/KipJiang/hugo-theme-diary&#34;&gt;hugo-theme-diary&lt;/a&gt; which is pretty concise.&lt;/p&gt;
&lt;p&gt;To meet my taste I am adding some new features to it.&lt;/p&gt;
&lt;p&gt;You can switch to the new branch &lt;a href=&#34;https://github.com/KipJiang/hugo-theme-diary/tree/kipjiang&#34;&gt;kipjiang&lt;/a&gt; to check the changes.&lt;/p&gt;
&lt;h2 id=&#34;todo-list&#34;&gt;TODO List&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Markdownify the copyright string.&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Display the theme info implicitly.&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Add some common Font Awesome icons to sidebar.&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Enable the visitor counter &lt;code&gt;leancloud-visitor&lt;/code&gt; of valine and move the &lt;code&gt;enablevaline&lt;/code&gt; to &lt;code&gt;params.valine&lt;/code&gt; in configuration.&lt;/li&gt;
&lt;li&gt;&lt;input checked=&#34;&#34; disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Change the resource of all icons from googleapi to Font Awesome.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Enable &lt;code&gt;disableHome&lt;/code&gt; parameter in &lt;code&gt;FrontMatter&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Change the style of ToC.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Split the layout of categories and tags, show statistics of each tag.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Change the style of footer and navigator title.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Move the tags info  to the bottom of a post.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Change the hover &lt;code&gt;underline&lt;/code&gt; to &lt;code&gt;dashed&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; Change the color of hyperlink in post.&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; New archive page. Reference page &lt;a href=&#34;https://byvoid.com/zhs/blog/archive/&#34;&gt;https://byvoid.com/zhs/blog/archive/&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;changelog&#34;&gt;Changelog&lt;/h2&gt;
&lt;h3 id=&#34;font-awesome&#34;&gt;Font Awesome&lt;/h3&gt;
&lt;p&gt;You can find many &lt;a href=&#34;https://www.bootcdn.cn/font-awesome/&#34;&gt;Font Awesome CDN&lt;/a&gt; resources of kinds of  versions on &lt;a href=&#34;https://www.bootcdn.cn/font-awesome/&#34;&gt;BootCDN&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;First, add the script to &lt;code&gt;head.html&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- Font Awesome --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;link&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;https://cdn.bootcdn.net/ajax/libs/font-awesome/5.13.0/css/all.min.css&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rel&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;stylesheet&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then, add any &lt;a href=&#34;https://fontawesome.com/cheatsheet&#34;&gt;icons&lt;/a&gt;  you want in your code, like:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;!-- in sidebar.html --&amp;gt;&lt;/span&gt;
&amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;nav-link-item&amp;#34;&lt;/span&gt; &amp;gt;
    {{ if .Site.Params.social.github }}
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ .Site.Params.social.github }}&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;target&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_blank&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;title&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;GitHub&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fab fa-github&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;style&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;font-size: 24px&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;i&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt;&amp;gt;
    {{ end }}
    &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;href&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{{ &amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;index&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;xml&lt;/span&gt;&lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;|&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;absLangURL&lt;/span&gt; &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;}}&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;target&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;_blank&amp;#34;&lt;/span&gt;&amp;gt;
        &amp;lt;&lt;span style=&#34;color:#f92672&#34;&gt;i&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;title&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;RSS&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;class&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;fa fa-rss&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;style&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;font-size: 24px&amp;#34;&lt;/span&gt;&amp;gt;&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;i&lt;/span&gt;&amp;gt;
    &amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;a&lt;/span&gt;&amp;gt;
&amp;lt;/&lt;span style=&#34;color:#f92672&#34;&gt;div&lt;/span&gt;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;- https://kipjiang.github.io/post/2020/06/16/change-to-new-theme/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Jupyter Notebook on Remote Server</title>
        <link>https://kipjiang.github.io/note/2020/03/31/remote-jupyter-notebook/</link>
        <pubDate>Tue, 31 Mar 2020 21:29:36 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/03/31/remote-jupyter-notebook/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/03/31/remote-jupyter-notebook/ -&lt;h2 id=&#34;install-miniconda&#34;&gt;Install miniconda&lt;/h2&gt;
&lt;p&gt;参考 &lt;a href=&#34;https://KipJiang.github.io/note/2020/02/20/working-with-ubuntu-2nd/#miniconda&#34;&gt;Working With Ubuntu (2)&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;configure-jypyter&#34;&gt;Configure Jypyter&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; 通过 &lt;code&gt;ssh&lt;/code&gt; 远程链接到服务器操作。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;安装 &lt;code&gt;jupyter notebook&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ conda install jupyter notebook
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;生成配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ jupyter notebook --generate-config
Writing default config to: /home/kip/.jupyter/jupyter_notebook_config.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;通过 &lt;code&gt;ipython&lt;/code&gt; 生成密码的 Hash&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ ipython
Python 3.6.9 |Anaconda, Inc.| &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;default, Mar &lt;span style=&#34;color:#ae81ff&#34;&gt;31&lt;/span&gt; 2020, 19:07:31&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; 
Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;copyright&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;credits&amp;#39;&lt;/span&gt; or &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;license&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; more information
IPython 7.7.0 -- An enhanced Interactive Python. Type &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;?&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; help.

In &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;1&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: from notebook.auth import passwd

In &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: passwd&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
Enter password: 
Verify password: 
Out&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;2&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;sha1:9df4178e51d1:6ea6f2567edf49ffdf216fb20fe424dc4329a924&amp;#39;&lt;/span&gt;

In &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: quit&lt;span style=&#34;color:#f92672&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;编辑配置文件&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vim /home/kip/.jupyter/jupyter_notebook_config.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;配置如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# configuration manully&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;c.NotebookApp.ip&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;*&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;c.NotebookApp.password&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;u&amp;#39;sha1:9df4178e51d1:6ea6f2567edf49ffdf216fb20fe424dc4329a924&amp;#39; # 你的 Hash&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;c.NotebookApp.open_browser&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;False # 禁止自动打开浏览器&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;c.NotebookApp.port&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;8888 # 随意指定一个端口&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中 &lt;code&gt;c.NotebookApp.password&lt;/code&gt; 的 Hash 值就是刚才使用 &lt;code&gt;ipython&lt;/code&gt; 生成的 Hash。&lt;/p&gt;
&lt;h2 id=&#34;configure-firewall&#34;&gt;Configure Firewall&lt;/h2&gt;
&lt;p&gt;经上述配置，我们在本地浏览器中输入 &lt;code&gt;server_ip:8888&lt;/code&gt; 还不能成功连接，因为防火墙还没将端口 8888 开放出来。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开放端口&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo firewall-cmd --zone&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;public --add-port&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;8888/tcp --permanent
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中 &lt;code&gt;--permannet&lt;/code&gt; 表示永久有效，不会因为重启主机而失效。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;重启防火墙，使规则生效&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo firewall-cmd --reload
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;通过命令 &lt;code&gt;firewall-cmd --list-all&lt;/code&gt; 查看规则信息，即：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt; $ sudo firewall-cmd --list-all
public &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;active&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  target: default
  icmp-block-inversion: no
  interfaces: ******
  sources: 
  services: ssh dhcpv6-client
  ports: 8888/tcp
  protocols: 
  masquerade: no
  forward-ports: 
  source-ports: 
  icmp-blocks: 
  rich rules:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;本地浏览器打开&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在本地浏览器中输入 &lt;code&gt;server_ip:8888&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kipjiang.github.io/img/2020-06-05/jupyter_notebook_login.png&#34; alt=&#34;jupyter-remote&#34;&gt;&lt;/p&gt;
&lt;p&gt;再输入之前设置的密码即可。&lt;/p&gt;
&lt;h2 id=&#34;permanent-configuration&#34;&gt;Permanent Configuration&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;也可以不生成配置文件，直接在命令行打开。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安装好 &lt;code&gt;jupyter notebook&lt;/code&gt; 后，运行命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ jupyter notebook --no-browser --port&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;8888&lt;/span&gt; --ip&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;0.0.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中 &lt;code&gt;--ip=0.0.0.0&lt;/code&gt; 表示 &lt;code&gt;jupyter notebook&lt;/code&gt; 侦听所有的 IP 地址。&lt;/p&gt;
&lt;p&gt;但这也需要配置防火墙，开放 8888 端口。&lt;/p&gt;
- https://kipjiang.github.io/note/2020/03/31/remote-jupyter-notebook/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Working with Ubuntu (3)</title>
        <link>https://kipjiang.github.io/note/2020/03/27/working-with-ubuntu-3rd/</link>
        <pubDate>Fri, 27 Mar 2020 19:33:47 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/03/27/working-with-ubuntu-3rd/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/03/27/working-with-ubuntu-3rd/ -&lt;blockquote&gt;
&lt;p&gt;如何在 Ubuntu 中安装一些日常使用的软件。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;browser&#34;&gt;Browser&lt;/h2&gt;
&lt;h3 id=&#34;firefox&#34;&gt;Firefox&lt;/h3&gt;
&lt;p&gt;Ubuntu 自带的 Firefox 的账号服务属于国际区，如果你之前是通过 Windows 安装的中文版 Firefox 并注册的账号，在从 Ubuntu 中登录会提示你账号不存在。&lt;/p&gt;
&lt;p&gt;你可以注册使用国际区的账号；也可以通过使用中文版的 Firefox 可执行文件替换 Ubuntu 默认的版本，从而达到登录中国区账号的目的。&lt;/p&gt;
&lt;p&gt;下面讲讲如何替换为中国区 Firefox。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载中国区 localized Firefox&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;点击 &lt;a href=&#34;https://www.firefox.com.cn/download/&#34;&gt;https://www.firefox.com.cn/download/&lt;/a&gt;，选择 「下载其他语言版本」 下载。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;替换可执行文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;将 &lt;code&gt;/usr/lib&lt;/code&gt; 下的默认版本的 Firefox 备份&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# mv /usr/lib/firefox /usr/lib/firefox_bak&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将下载的 localized 版解压，替换默认版本&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# tar -jxvf firefox-latest-x86_64.tar.bz2&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# mv firefox/ /usr/lib/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;添加启动图标&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;但是，经上述操作后我们并不能从 「Favorites」中的图标启动 Firefox，需要将默认版本中的启动脚本拷贝过来&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# cp /usr/lib/firefox_bak/firefox.sh /usr/lib/firefox&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这时，我们就可以点击图标，启动 Firefox 了。&lt;/p&gt;
&lt;h3 id=&#34;chrome&#34;&gt;Chrome&lt;/h3&gt;
&lt;p&gt;有两种安装方式：（1）通过设置 &lt;code&gt;apt&lt;/code&gt; 源的方式安装；（2）直接下载 &lt;code&gt;.deb&lt;/code&gt; 文件本地安装。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; 这两种方式默认已经设置好代理。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;源方式&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;添加 Key&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ wget -q -O - https://dl-ssl.google.com/linux/linux_signing_key.pub | sudo apt-key add -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;添加源信息&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&amp;#39;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/google-chrome.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;更新并安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo apt-get update 
$ sudo apt-get install google-chrome-stable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;本地安装&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;下载 &lt;code&gt;.deb&lt;/code&gt; 文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;参考文章 &lt;a href=&#34;https://www.omgubuntu.co.uk/how-to-install-google-chrome-on-ubuntu&#34;&gt;How to Install Google Chrome in Ubuntu&lt;/a&gt;。这里直接点击下载链接 &lt;a href=&#34;https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&#34;&gt;google-chrome-stable_current_amd64.deb&lt;/a&gt; 下载，或着执行命令：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i google-chrome-stable_current_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;卸载&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -r google-chrome-stable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -P google-chrome-stable
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;some-useful-software&#34;&gt;Some Useful Software&lt;/h2&gt;
&lt;h3 id=&#34;nutstore&#34;&gt;Nutstore&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;下载&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;点击 &lt;a href=&#34;https://www.jianguoyun.com/s/downloads&#34;&gt;downloads&lt;/a&gt;。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i nautilus-nutstore_amd64.deb
$ sudo apt-get install -f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; 坚果云的账号名对大小写是敏感的，在登录时需注意。&lt;/p&gt;
&lt;h3 id=&#34;cloud-note&#34;&gt;Cloud Note&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;印象笔记、有道云笔记都没有 Linux 版，只能通过网页使用，不是很方便。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以直接在 Ubuntu 软件中心安装 &lt;a href=&#34;https://simplenote.com/&#34;&gt;SimpleNote&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是一个跨平台的云笔记软件，支持 iOS, Android, macOS, Windows 和 Linux。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;也可以下载 &lt;a href=&#34;https://www.wiz.cn/wiznote-linux.html&#34;&gt;为知笔记 Linux 版&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; 为知笔记有试用期，使用完后需要付费。&lt;/p&gt;
&lt;p&gt;为知笔记的 Linux 版是通过 AppImage 打包的免安装版。因此，只需下载后，通过鼠标右键，修改文件属性，赋予可运权限，运行即可。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kipjiang.github.io/img/2020-03-27/wiz-note.png&#34; alt=&#34;wiz&#34;&gt;&lt;/p&gt;
&lt;p&gt;另，按如下步骤给为知笔记在 Linux 中添加启动图标。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;进入目录 &lt;code&gt;/usr/share/applications/&lt;/code&gt;，创建配置文件&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo vim wiznote.desktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;配置如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;[Desktop Entry]&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Name&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;wiznote&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Name[zh_CN]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;为知笔记&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Comment&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;wiznote&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Comment[zh_CN]&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;为知笔记&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Exec&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/home/kip/Downloads/WizNote-2.7.9-x86_64-ubuntu-18.04.AppImage&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Icon&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;/home/kip/.wiznote/icons/wiznote_76x76.png&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Terminal&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;false&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Type&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Application&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Categories&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;Application;&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;Encoding&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;UTF-8&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;StartupNotify&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;true&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中的 icon，可以从官网上 &lt;a href=&#34;https://wcdn.wiz.cn/apple-icon.png&#34;&gt;获取&lt;/a&gt;，然后放在 wiznote 的配置文件路径下。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;配置完成后，进入 Launcher 启动器，搜索名字便能显示程序图标了，然后右键添加到侧边栏即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;sougou-pinyin&#34;&gt;Sougou Pinyin&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;下载&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;点击 &lt;a href=&#34;https://pinyin.sogou.com/linux/?r=pinyin&#34;&gt;搜狗输入法 for linux&lt;/a&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;参考 &lt;a href=&#34;https://pinyin.sogou.com/linux/help.php&#34;&gt;搜狗输入法 for linux 安装指南&lt;/a&gt;，需要先将输入法框架切换为 Fcitx。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i sogoupinyin_2.3.1.0112_amd64.deb
$ sudo apt-get install -f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&#34;https://wiki.ubuntu.org.cn/%E4%B8%AD%E6%96%87%E8%BE%93%E5%85%A5%E6%B3%95&#34;&gt;Read More About &lt;em&gt;chinese input method&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;wps&#34;&gt;WPS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;下载&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://www.wps.cn/product/wpslinux&#34;&gt;WPS Office 2019 for Linux Download&lt;/a&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i wps-office_11.1.0.9080_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;netease-cloud-music&#34;&gt;Netease Cloud Music&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;下载&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://music.163.com/#/download&#34;&gt;网易云音乐下载&lt;/a&gt;，网页右上角，点击 &amp;ldquo;下载全部客户端&amp;rdquo;，选择下载 Linux 版。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i netease-cloud-music_1.2.1_amd64_ubuntu_20190428.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;typora&#34;&gt;Typora&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# add Key&lt;/span&gt;
wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -
&lt;span style=&#34;color:#75715e&#34;&gt;# add Typora&amp;#39;s repository&lt;/span&gt;
sudo add-apt-repository &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;deb https://typora.io/linux ./&amp;#39;&lt;/span&gt;
sudo apt-get update
&lt;span style=&#34;color:#75715e&#34;&gt;# install typora&lt;/span&gt;
sudo apt-get install typora
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;issues&#34;&gt;Issues&lt;/h2&gt;
&lt;h3 id=&#34;disable-suspend&#34;&gt;disable suspend&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo vim /etc/systemd/logind.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;HandleLidSwitch&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;suspend --&amp;gt; HandleLidSwitch=ignore&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ruijie-vs-vmware&#34;&gt;ruijie V.S. VMware&lt;/h3&gt;
&lt;p&gt;校园网下启动 VMware 报错：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;Client Prompt:
    You install multi-NIC, please make all non-authentication ad
    apters disable, and &lt;span style=&#34;color:#66d9ef&#34;&gt;do&lt;/span&gt; authentication.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开 VMware 的虚拟网络编辑器，关掉 VMnet8 的主机连接。&lt;/p&gt;
- https://kipjiang.github.io/note/2020/03/27/working-with-ubuntu-3rd/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Virtual Machine with vTPM in Ubuntu</title>
        <link>https://kipjiang.github.io/note/2020/03/11/vms-with-vtpm-in-ubuntu/</link>
        <pubDate>Wed, 11 Mar 2020 20:34:44 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/03/11/vms-with-vtpm-in-ubuntu/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/03/11/vms-with-vtpm-in-ubuntu/ -&lt;h2 id=&#34;preparation&#34;&gt;Preparation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Reference Paper&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://kipjiang.github.io/pdf/Scalable_Attestation-A_Step_toward_Secure_and_Trusted_Clouds_Stefan.pdf&#34;&gt;Berger, S., Goldman, K., Pendarakis, D., Safford, D., Valdez, E. and Zohar, M., 2015, March. Scalable attestation: A step toward secure and trusted clouds. In 2015 IEEE International Conference on Cloud Engineering (pp. 185-194). IEEE.&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Environment&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Host: &lt;a href=&#34;https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/18.04/&#34;&gt;Ubuntu 18.04&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Guest: &lt;a href=&#34;https://mirrors.tuna.tsinghua.edu.cn/ubuntu-releases/14.04/&#34;&gt;Ubuntu 14.04&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Source Code&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/stefanberger/seabios-tpm&#34;&gt;seabios-tpm&lt;/a&gt; 2. &lt;a href=&#34;https://github.com/stefanberger/libtpms&#34;&gt;libtpms&lt;/a&gt; 3. &lt;a href=&#34;https://github.com/stefanberger/swtpm&#34;&gt;swtpm&lt;/a&gt; 4. &lt;a href=&#34;https://github.com/stefanberger/qemu-tpm&#34;&gt;qemu-tpm&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Tree of Path&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kip
└── workspace  
  ├── libtpms  
  ├── qemu-tpm  
  ├── seabios  
  ├── swtpm  
  └── test
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;seabios&#34;&gt;SeaBIOS&lt;/h2&gt;
&lt;p&gt;SeaBIOS 包含 vTPM 支持的分支 &lt;a href=&#34;https://github.com/stefanberger/seabios-tpm&#34;&gt;seabios-tpm&lt;/a&gt; 最开始由 &lt;a href=&#34;https://github.com/stefanberger&#34;&gt;Stefan&lt;/a&gt; 维护，现在已经成功将其合并到主分支 &lt;a href=&#34;https://seabios.org/SeaBIOS&#34;&gt;SeaBIOS&lt;/a&gt;。因此，下面的实验中我们使用其主分支。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;下载&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ mkdir workspace
$ cd workspace
$ git clone https://git.seabios.org/seabios.git
$ cd seabios
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;编译&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo apt install python2
$ make
Building ld scripts
Version: rel-1.13.0-5-g7655185
Fixed space: 0xe05b-0x10000  total: &lt;span style=&#34;color:#ae81ff&#34;&gt;8101&lt;/span&gt;  slack: &lt;span style=&#34;color:#ae81ff&#34;&gt;11&lt;/span&gt;  Percent slack: 0.1%
16bit size:           &lt;span style=&#34;color:#ae81ff&#34;&gt;37920&lt;/span&gt;
32bit segmented size: &lt;span style=&#34;color:#ae81ff&#34;&gt;2194&lt;/span&gt;
32bit flat size:      &lt;span style=&#34;color:#ae81ff&#34;&gt;39854&lt;/span&gt;
32bit flat init size: &lt;span style=&#34;color:#ae81ff&#34;&gt;83168&lt;/span&gt;
Lowmem size:          &lt;span style=&#34;color:#ae81ff&#34;&gt;2240&lt;/span&gt;
f-segment var size:   &lt;span style=&#34;color:#ae81ff&#34;&gt;1248&lt;/span&gt;
  Linking out/rom16.o
  Stripping out/rom16.strip.o
  Linking out/rom32seg.o
  Stripping out/rom32seg.strip.o
  Linking out/rom.o
  Prepping out/bios.bin.prep
Total size: &lt;span style=&#34;color:#ae81ff&#34;&gt;172352&lt;/span&gt;  Fixed: &lt;span style=&#34;color:#ae81ff&#34;&gt;81216&lt;/span&gt;  Free: &lt;span style=&#34;color:#ae81ff&#34;&gt;89792&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;used 65.7% of 256KiB rom&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt;
  Creating out/bios.bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;libtpms&#34;&gt;libtpms&lt;/h2&gt;
&lt;p&gt;libtpms 是对 &lt;a href=&#34;https://trustedcomputinggroup.org/&#34;&gt;TCG(Trusted Computing Group)&lt;/a&gt; 发布的可信平台模块（TPM，&lt;a href=&#34;https://en.wikipedia.org/wiki/Trusted_Platform_Module&#34;&gt;Trusted Platform Module&lt;/a&gt;）标准 &lt;a href=&#34;https://trustedcomputinggroup.org/resource/tpm-main-specification/&#34;&gt;TPM1.2 Main Specification&lt;/a&gt; 和 &lt;a href=&#34;https://trustedcomputinggroup.org/resource/tpm-library-specification/&#34;&gt;TPM 2.0 Library Specification&lt;/a&gt; 及 &lt;a href=&#34;https://trustedcomputinggroup.org/specifications-public-review/&#34;&gt;TPM2.0 Specifications in Public Review&lt;/a&gt; 的软件模拟库，在 Linux 上以 「shared object (dynamic) library」 的形式存在，即：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;kip@ubu:/usr/lib/x86_64-linux-gnu $ ls -hl | grep libtpms
lrwxrwxrwx  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root root    &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; Jul &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt; libtpms.so - libtpms.so.0.8.0
lrwxrwxrwx  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root root    &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; Jul &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt; libtpms.so.0 - libtpms.so.0.8.0
-rw-r--r--  &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; root root  883K Jul &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;  &lt;span style=&#34;color:#ae81ff&#34;&gt;2019&lt;/span&gt; libtpms.so.0.8.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;安装依赖&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ git clone https://github.com/stefanberger/libtpms.git
$ cd libtpms
$ sudo apt-get -y install automake autoconf libtool gcc build-essential libssl-dev dh-exec pkg-config gawk
$ ./autogen.sh --with-openssl --with-tpm2
&amp;lt;snip&amp;gt;
CFLAGS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;-g -O2 -DUSE_OPENSSL_FUNCTIONS_SYMMETRIC&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; -DUSE_OPENSSL_FUNCTIONS_EC&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; -DUSE_OPENSSL_FUNCTIONS_ECDSA&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; -DUSE_OPENSSL_FUNCTIONS_RSA&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;  -Wall -Werror -Wreturn-type -Wsign-compare -Wno-self-assign
HARDENING_CFLAGS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;-fstack-protector-strong 
HARDENING_LDFLAGS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; -Wl,-z,relro  -Wl,-z,now 
LDFLAGS&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; 

Version to build        : 0.8.0
Crypto library          : openssl
Debug build             : no
With TPM2 support       : yes
HAVE_VERSION_SCRIPT     : yes
Use openssl crypto &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt;  : symmetric &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;AES, TDES&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; general elliptic curve &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;EC&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; elliptic curve &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;ECDSA&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; RSA
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;生成安装包&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ make dist
$ dpkg-buildpackage -us -uc -j&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;nproc&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&amp;lt;snip
make&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: Leaving directory &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/home/kip/workspace/libtpms/tests&amp;#39;&lt;/span&gt;
make  check-TESTS
make&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;3&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: Entering directory &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/home/kip/workspace/libtpms/tests&amp;#39;&lt;/span&gt;
make&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: Entering directory &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/home/kip/workspace/libtpms/tests&amp;#39;&lt;/span&gt;
PASS: nvram_offsets
PASS: tpm2_createprimary.sh
PASS: tpm2_pcr_read.sh
PASS: tpm2_selftest.sh
PASS: base64decode.sh
PASS: fuzz.sh
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
Testsuite summary &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; libtpms 0.8.0
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# TOTAL: 6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# PASS:  6&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# SKIP:  0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# XFAIL: 0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# FAIL:  0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# XPASS: 0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# ERROR: 0&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
&amp;lt;snip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;执行完上述命令，可以看到生成了 &lt;code&gt;.deb&lt;/code&gt; 安装包：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cd .. &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ls
libtpms0_0.8.0~dev1_amd64.deb  libtpms-dev_0.8.0~dev1_amd64.deb  libtpms_0.8.0~dev1.tar.xz  ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;安装 libtpms&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i libtpms0_0.8.0~dev1_amd64.deb   libtpms-dev_0.8.0~dev1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;swtpm&#34;&gt;swtpm&lt;/h2&gt;
&lt;p&gt;swtpm 基于 libtpms 以不同的方式实现对 TPM 的模拟，包括：「passthrough」、「character device」、「socket」和「CUSE」。&lt;/p&gt;
&lt;p&gt;因此，安装 swtpm 之前，必须先安装 libtpms。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装依赖&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ git clone https://github.com/stefanberger/swtpm.git
$ cd swtpm
$ sudo su
&lt;span style=&#34;color:#75715e&#34;&gt;# ln -s /dev/null /etc/systemd/system/trousers.service&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# exit&lt;/span&gt;
$ sudo apt-get -y install  libfuse-dev libglib2.0-dev libgmp-dev expect libtasn1-dev socat tpm-tools python3-twisted gnutls-dev gnutls-bin softhsm2 libseccomp-dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;code&gt;trousers&lt;/code&gt; 是 TPM1.2 的依赖软件，&lt;code&gt;tpm-tools&lt;/code&gt; 是 TPM2.0 的依赖软件，Ubuntu 默认安装 &lt;code&gt;tpm-tools&lt;/code&gt; 必须先安装 &lt;code&gt;trousers&lt;/code&gt;。如果你不需要模拟 TPM1.2，这便不是必须的。Stefan 提了 report，不过社区并没有回应。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;生成安装包&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ dpkg-buildpackage -us -uc -j&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;nproc&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&amp;lt;snip
make  check-TESTS
make&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;4&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: Entering directory &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/home/kip/workspace/swtpm/tests&amp;#39;&lt;/span&gt;
make&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;5&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;: Entering directory &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;/home/kip/workspace/swtpm/tests&amp;#39;&lt;/span&gt;
SKIP: test_tpm2_vtpm_proxy
SKIP: test_vtpm_proxy
PASS: test_ctrlchannel4
PASS: test_ctrlchannel3
PASS: test_tpm2_ctrlchannel2
PASS: test_ctrlchannel2
PASS: test_ctrlchannel
PASS: test_getcap
PASS: test_hashing
PASS: test_locality
PASS: test_encrypted_state
PASS: test_hashing2
PASS: test_resume_volatile
PASS: test_migration_key
PASS: test_setbuffersize
PASS: test_save_load_state
PASS: test_save_load_encrypted_state
PASS: test_init
SKIP: test_tpm12
PASS: test_volatilestate
PASS: test_print_capabilities
PASS: test_tpm_probe
PASS: test_wrongorder
PASS: test_tpm2_derived_keys
PASS: test_tpm2_encrypted_state
PASS: test_tpm2_getcap
PASS: test_tpm2_locality
PASS: test_swtpm_bios
PASS: test_tpm2_hashing
PASS: test_tpm2_hashing3
PASS: test_tpm2_resume_volatile
PASS: test_tpm2_migration_key
PASS: test_tpm2_hashing2
SKIP: test_tpm2_save_load_state_3
PASS: test_tpm2_savestate
PASS: test_tpm2_init
PASS: test_tpm2_setbuffersize
PASS: test_tpm2_wrongorder
PASS: test_tpm2_volatilestate
PASS: test_tpm2_probe
SKIP: test_tpm2_ibmtss2
PASS: test_commandline
SKIP: test_parameters
PASS: test_swtpm_cert
SKIP: test_tpm2_parameters
PASS: test_tpm2_samples_swtpm_localca
SKIP: test_tpm2_samples_swtpm_localca_pkcs11
PASS: test_tpm2_swtpm_cert
PASS: test_tpm2_swtpm_cert_ecc
PASS: test_tpm2_swtpm_setup_create_cert
SKIP: test_swtpm_setup_create_cert
SKIP: test_samples_create_tpmca
PASS: test_tpm2_save_load_encrypted_state
PASS: test_tpm2_swtpm_bios
PASS: test_tpm2_save_load_state_da_timeout
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
Testsuite summary &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; swtpm 0.3.0
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# TOTAL: 55&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# PASS:  45&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# SKIP:  10&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# XFAIL: 0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# FAIL:  0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# XPASS: 0&lt;/span&gt;
&lt;span style=&#34;color:#75715e&#34;&gt;# ERROR: 0&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;============================================================================&lt;/span&gt;
&amp;lt;snip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;同样，可以看到生成了几个 &lt;code&gt;.deb&lt;/code&gt; 安装包&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ cd .. &lt;span style=&#34;color:#f92672&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; ls
swtpm_0.3.0-1_amd64.deb  swtpm-dev_0.3.0-1_amd64.deb  swtpm-libs_0.3.0-1_amd64.deb  swtpm-tools_0.3.0-1_amd64.deb  ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo dpkg -i swtpm_0.3.0-1_amd64.deb swtpm-dev_0.3.0-1_amd64.deb swtpm-libs_0.3.0-1_amd64.deb swtpm-tools_0.3.0-1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;qemu-tpm&#34;&gt;qemu-tpm&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;下载并配置&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ git clone https://github.com/stefanberger/qemu-tpm.git
$ cd qemu-tpm
$ mkdir build
$ cd build
$ ../configure --enable-debug --enable-tpm --enable-kvm --enable-vnc --target-list&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;x86_64-softmmu
&amp;lt;snip
TCG support       yes
TCG debug enabled yes
TCG interpreter   no
&amp;lt;snip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;编译&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ make -j&lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;nproc&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&amp;lt;snip
  GEN     trace/generated-helpers.c
  CC      x86_64-softmmu/trace/control-target.o
  CC      x86_64-softmmu/gdbstub-xml.o
  CC      x86_64-softmmu/trace/generated-helpers.o
  LINK    x86_64-softmmu/qemu-system-x86_64
rm tests/qemu-iotests/socket_scm_helper.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo su
&lt;span style=&#34;color:#75715e&#34;&gt;# make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;create-vm-with-vtpm&#34;&gt;Create VM with vTPM&lt;/h2&gt;
&lt;p&gt;上面我们完成了试验环境的安装，下面我们开始创建可信虚拟机，即具备 vTPM 设备的虚拟机。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; 为了避免破坏 Host 主机上的实验环境，我这里没有执行 qemu-tpm 的安装操作，而是直接使用源路径下的可执行文件。&lt;/p&gt;
&lt;p&gt;下面我们以 socket 的模拟方式举例说明。&lt;/p&gt;
&lt;h3 id=&#34;vtpm-emulator&#34;&gt;vTPM Emulator&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;安装 VNC-Viewer&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo apt install tigervnc-viewer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;生成磁盘镜像&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ mkdir ~/workspace/test
$ cd ~/workspace/test
$ ../qemu-tpm/build/qemu-img create -f qcow2 ubuntu14.04.qcow2 20G
Formatting &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;ubuntu14.04.qcow2&amp;#39;&lt;/span&gt;, fmt&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;qcow2 size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;21474836480&lt;/span&gt; cluster_size&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;65536&lt;/span&gt; lazy_refcounts&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;off refcount_bits&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在 Host 创建 vTPM 模拟设备&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;新开一个终端：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo mkdir /tmp/mytpm2
$ sudo chown tss:root /tmp/mytpm2
$ sudo swtpm_setup --tpmstate /tmp/mytpm2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--create-ek-cert &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--create-platform-cert &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--allow-signing --tpm2
$ sudo swtpm socket --tpmstate dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--ctrl type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;unixio,path&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2/swtpm-sock &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--tpm2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--log level&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;guest-os&#34;&gt;Guest OS&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;安装操作系统&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;事先已将 Ubuntu 14.04 的镜像下载到了路径 &lt;code&gt;~/Downloads&lt;/code&gt; 下。&lt;/p&gt;
&lt;p&gt;安装：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;~/workspace/test $ sudo ../qemu-tpm/build/x86_64-softmmu/qemu-system-x86_64 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-accel kvm -m &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt; -smp &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; -hda ubuntu14.04.qcow2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-boot menu&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;on -bios ../seabios/out/bios.bin &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-device tpm-tis,tpmdev&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;tpm0 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-tpmdev emulator,id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;tpm0,chardev&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;chrtpm &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-chardev socket,id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;chrtpm,path&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2/swtpm-sock &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-d unimp &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-cdrom ~/Downloads/ubuntu-14.04.6-desktop-amd64.iso
VNC server running on 127.0.0.1:5900
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再新开一个终端：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vncviewer :5900
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后会跳出操作系统的安装界面，将 Ubuntu 14.04 按照正常步骤安装即可。&lt;/p&gt;
&lt;p&gt;当安装完成，提示重启时，直接关闭 VNCViewer 窗口即可。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;测试&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;重新启动模拟设备：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo swtpm socket --tpmstate dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--ctrl type&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;unixio,path&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2/swtpm-sock &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--tpm2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;--log level&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;重新运行虚拟机：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;~/workspace/test $ sudo ../qemu-tpm/build/x86_64-softmmu/qemu-system-x86_64 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-accel kvm -m &lt;span style=&#34;color:#ae81ff&#34;&gt;2048&lt;/span&gt; -smp &lt;span style=&#34;color:#ae81ff&#34;&gt;4&lt;/span&gt; -hda ubuntu14.04.qcow2 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-boot menu&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;on -bios ../seabios/out/bios.bin &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-device tpm-tis,tpmdev&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;tpm0 &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-tpmdev emulator,id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;tpm0,chardev&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;chrtpm &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-chardev socket,id&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;chrtpm,path&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;/tmp/mytpm2/swtpm-sock &lt;span style=&#34;color:#ae81ff&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;&lt;/span&gt;-d unimp
VNC server running on 127.0.0.1:5900
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;再次打开 VNC-Viewer：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ vncviewer :5900
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;测试：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://kipjiang.github.io/img/2020-03-11/ubuntu14.04.png&#34; alt=&#34;ubuntu14.04&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;综上，我们成功创建了一个具备 vTPM 模拟设备的可信虚拟机。&lt;/p&gt;
&lt;p&gt;和 TPM 设备交互，需要安装可信软件栈（TSS, &lt;a href=&#34;https://tpm2-software.github.io/&#34;&gt;TPM Software Stack&lt;/a&gt;）。&lt;/p&gt;
&lt;p&gt;可以通过下载 &lt;a href=&#34;https://github.com/tpm2-software/tpm2-tss&#34;&gt;tpm2-software/tpm2-tss&lt;/a&gt; 编译安装，或者直接安装 IBM 维护的命令行工具 &lt;code&gt;tss2&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo apt install tss2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;不过 Ubuntu 14.04 并不支持 &lt;code&gt;tss2&lt;/code&gt;， 可以在 Ubuntu 16.04 上尝试。&lt;/p&gt;
- https://kipjiang.github.io/note/2020/03/11/vms-with-vtpm-in-ubuntu/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Hello Hugo</title>
        <link>https://kipjiang.github.io/post/2020/03/07/hello-hugo/</link>
        <pubDate>Sat, 07 Mar 2020 21:49:29 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/post/2020/03/07/hello-hugo/</guid>
        <description>Kip Jiang https://kipjiang.github.io/post/2020/03/07/hello-hugo/ -&lt;h2 id=&#34;hugo-onesentence&#34;&gt;Hugo OneSentence&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;It is out of time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以前折腾过其他静态主页的生成器，像 &lt;a href=&#34;https://hexo.io/&#34;&gt;hexo&lt;/a&gt; 和 &lt;a href=&#34;https://jekyllrb.com/&#34;&gt;Jekyll&lt;/a&gt; 等，都用来建过站点，但是从来没有正经写过文章。&lt;/p&gt;
&lt;p&gt;这段时间，使用 &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;，参考 &lt;a href=&#34;https://yihui.org/&#34;&gt;YihuiXie&lt;/a&gt; 和 &lt;a href=&#34;http://blog.fungo.me/&#34;&gt;山羊博客&lt;/a&gt;，通过移植 &lt;a href=&#34;https://github.com/yihui/hugo-ivy&#34;&gt;hugo-ivy&lt;/a&gt;，也写了一个 hugo 的主题 &lt;a href=&#34;https://github.com/KipJiang/hugo-theme-OneSentence&#34;&gt;hugo-theme-OneSentence&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;感觉到现在为止，已经基本满足我的需求了。&lt;/p&gt;
&lt;h2 id=&#34;themes-i-have-used&#34;&gt;Themes I have used&lt;/h2&gt;
&lt;p&gt;之前试过一些 hexo 和 Jekyll 的主题，就不再赘述了，这里仅展示一些符合我 taste 的 hugo 的主题，以作为我曾经浪费的时间的见证。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/KipJiang/hugo-with-classic&#34;&gt;hugo-theme-classic&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;原始版本是 &lt;a href=&#34;https://goodroot.ca/&#34;&gt;googroot&lt;/a&gt; 修改自 &lt;a href=&#34;https://yihui.org/&#34;&gt;YihuiXie&lt;/a&gt; 的主题，我又做了一些小小的改动，当时看中的就是它非常简单直白。&lt;/p&gt;
&lt;p&gt;可以查看我重新生成的展示页面：&lt;a href=&#34;https://kipjiang.github.io/hugo-with-classic&#34;&gt;classic-demo&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/xianmin/hugo-theme-jane&#34;&gt;hugo-theme-jane&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kipjiang.github.io/mySite-with-jane&#34;&gt;jane-demo&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;主题 Jane 是 &lt;a href=&#34;http://www.xianmin.org/&#34;&gt;贤民&lt;/a&gt; 制作的主题，它对各种 &lt;code&gt;shortcode&lt;/code&gt; 的支持都比较完善。&lt;/p&gt;
&lt;p&gt;虽然，我已经不再使用这个主题了，但是我还是会常常去看下贤民的个人网站 &lt;a href=&#34;https://www.xianmin.org/&#34;&gt;贤民的比特记忆&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;贤民说他是丽江白沙一个国际青年旅舍的掌柜，但和我印象中的掌柜却不太一样。他经常码代码、学英语、读书爬上，开心的和来自五湖四海的游客交流。&lt;/p&gt;
&lt;p&gt;而我，一直困在一个地方，逃脱不得，这种自由是我向往却不可及的。&lt;/p&gt;
&lt;p&gt;也许，哪天闲下来了或者逃离这种困境了，我会专程去丽江看看他。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/KipJiang/hugo-theme-even&#34;&gt;hugo-theme-even&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://kipjiang.github.io/hugo-theme-even&#34;&gt;even-demo&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个不是 &lt;a href=&#34;https://github.com/olOwOlo&#34;&gt;olOwOlo&lt;/a&gt; 原本的那个 &lt;a href=&#34;https://github.com/olOwOlo/hugo-theme-even&#34;&gt;even&lt;/a&gt; 主题了，是我在看到 &lt;a href=&#34;https://github.com/nusr&#34;&gt;@nusr(Steve Xu)&lt;/a&gt; 的个人站 &lt;a href=&#34;https://nusr.github.io/&#34;&gt;Brave New World&lt;/a&gt; 后，又从他改动的版本再作修改得到的，当然现在也没有再用了。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://kipjiang.github.io/hugo-theme-OneSentence&#34;&gt;hugo-theme-OneSentence&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://kipjiang.github.io/hugo-theme-OneSentence&#34;&gt;OneSentence-demo&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;好了，终于到主题 &lt;a href=&#34;https://kipjiang.github.io/hugo-theme-OneSentence&#34;&gt;OneSentence&lt;/a&gt;，这个才是我真真正正的完全自己修改得到的主题，可以看出和别人的已经很不一样了。&lt;/p&gt;
&lt;p&gt;这个主题受 &lt;a href=&#34;http://blog.fungo.me/&#34;&gt;山羊博客&lt;/a&gt; 的启发，通过移植 &lt;a href=&#34;https://yihui.org/&#34;&gt;YihuiXie&lt;/a&gt;  的主题 &lt;a href=&#34;https://github.com/yihui/hugo-ivy&#34;&gt;hugo-ivy&lt;/a&gt; 而最终得到的，也是费了我一番功夫。主要的时间都花在了调整 css 样式，而我并不擅长这部分内容，感觉到了这个地步已经超出我自己的预期了 🤣。&lt;/p&gt;
&lt;h2 id=&#34;give-up&#34;&gt;Give up&lt;/h2&gt;
&lt;p&gt;但是！我现在还是放弃折腾了，不想再耗费时间在这些不擅长的地方，直接使用一款别人做好的主题。&lt;/p&gt;
&lt;p&gt;现在已经转为使用 &lt;a href=&#34;https://github.com/KipJiang/hugo-theme-diary&#34;&gt;hugo-theme-diary&lt;/a&gt;，我对其做了一些修改，应该不会再折腾了。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;OK! That&amp;rsquo;s all.&lt;/strong&gt;&lt;/p&gt;
- https://kipjiang.github.io/post/2020/03/07/hello-hugo/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>About</title>
        <link>https://kipjiang.github.io/about/</link>
        <pubDate>Mon, 02 Mar 2020 20:59:41 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/about/</guid>
        <description>Kip Jiang https://kipjiang.github.io/about/ -&lt;h2 id=&#34;about-author&#34;&gt;About Author&lt;/h2&gt;
&lt;p&gt;💻   📚   🏃&lt;/p&gt;
&lt;p&gt;I sometimes write here.&lt;/p&gt;
&lt;h2 id=&#34;my-projects&#34;&gt;My Projects&lt;/h2&gt;
&lt;h2 id=&#34;os-by-diy&#34;&gt;OS by DIY&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/KipJiang/hellos&#34;&gt;hellos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It will be a rough OS, but I haven&amp;rsquo;t finished it yet. 😂&lt;/p&gt;
&lt;h3 id=&#34;hugo-themes&#34;&gt;Hugo Themes&lt;/h3&gt;
&lt;p&gt;Play with hugo themes, it&amp;rsquo;s a waste of time.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/KipJiang/hugo-theme-diary&#34;&gt;hugo-theme-diary&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What I use now.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/KipJiang/hugo-theme-OneSentence&#34;&gt;hugo-theme-OneSentence&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It is inspired by &lt;a href=&#34;http://blog.fungo.me/&#34;&gt;山羊博客&lt;/a&gt; and ported from &lt;a href=&#34;https://github.com/yihui/hugo-ivy&#34;&gt;hugo-ivy&lt;/a&gt; which is designed by &lt;a href=&#34;https://yihui.org/&#34;&gt;Yihui Xie&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/KipJiang/hugo-theme-even&#34;&gt;hugo-theme-even&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This one is similar to the blog &lt;a href=&#34;https://nusr.github.io/&#34;&gt;Brave New World&lt;/a&gt; of &lt;a href=&#34;https://github.com/nusr&#34;&gt;Steve Xu&lt;/a&gt;.&lt;/p&gt;
- https://kipjiang.github.io/about/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Working with Ubuntu (2)</title>
        <link>https://kipjiang.github.io/note/2020/02/20/working-with-ubuntu-2nd/</link>
        <pubDate>Thu, 20 Feb 2020 12:23:43 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/02/20/working-with-ubuntu-2nd/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/02/20/working-with-ubuntu-2nd/ -&lt;blockquote&gt;
&lt;p&gt;如何在 Ubuntu 中安装一些开发软件。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;vscode&#34;&gt;VScode&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;VSCode 的安装非常简单&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo snap install --classic code
code a622c65b from Visual Studio Code &lt;span style=&#34;color:#f92672&#34;&gt;(&lt;/span&gt;vscode✓&lt;span style=&#34;color:#f92672&#34;&gt;)&lt;/span&gt; installed
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;打开&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ code
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;sublime-text-3&#34;&gt;Sublime Text 3&lt;/h2&gt;
&lt;p&gt;Reference：&lt;a href=&#34;https://www.sublimetext.com/docs/3/linux_repositories.html#apt&#34;&gt;Linux Package Manager Repositories&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Install the GPG key:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | sudo apt-key add -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Ensure apt is set up to work with https sources:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt-get install apt-transport-https
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Select the channel to use:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Stable&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;deb https://download.sublimetext.com/ apt/stable/&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/sublime-text.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Dev&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;echo &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;deb https://download.sublimetext.com/ apt/dev/&amp;#34;&lt;/span&gt; | sudo tee /etc/apt/sources.list.d/sublime-text.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Update apt sources and install Sublime Text&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;sudo apt-get update
sudo apt-get install sublime-text
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Open&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ subl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;vmware-workstation-pro&#34;&gt;VMware Workstation Pro&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载安装包，&lt;a href=&#34;https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html&#34;&gt;VMware Workstation Pro Download&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ chmod +x VMware-Workstation-Full-15.5.1-15018445.x86_64.bundle 
$ ./VMware-Workstation-Full-15.5.1-15018445.x86_64.bundle 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;在 Ubuntu 的 菜单中点击 VMware 的图标启动&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这时可能汇报错：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;Build environment error! ...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;你需要安装依赖包：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sudo apt install gcc g++ make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;license for VMware Workstation Pro 15&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;任选一个输入&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.dogedoge.com/results?q=VMware+Workstation+Pro+15+%E6%BF%80%E6%B4%BB%E8%AE%B8%E5%8F%AF%E8%AF%81&#34;&gt;go ahead&lt;/a&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;h2 id=&#34;miniconda&#34;&gt;miniconda&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;下载安装包，&lt;a href=&#34;https://docs.conda.io/en/latest/miniconda.html&#34;&gt;miniconda3&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ sh Miniconda3-latest-Linux-x86_64.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中选择如下：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;Do you accept the license terms? &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;yes|no&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &amp;gt;&amp;gt;&amp;gt; yes
Do you wish the installer to initialize Miniconda3
by running conda init? &lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;yes|no&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;
&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;no&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt; &amp;gt;&amp;gt;&amp;gt; yes
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;使能&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;重启终端，或者使用命令&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ source ~/.bashrc 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;- https://kipjiang.github.io/note/2020/02/20/working-with-ubuntu-2nd/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
    
        <item>
        <title>Working with Ubuntu (1)</title>
        <link>https://kipjiang.github.io/note/2020/02/15/working-with-ubuntu-1st/</link>
        <pubDate>Sat, 15 Feb 2020 09:49:43 +0800</pubDate>
        
        <guid>https://kipjiang.github.io/note/2020/02/15/working-with-ubuntu-1st/</guid>
        <description>Kip Jiang https://kipjiang.github.io/note/2020/02/15/working-with-ubuntu-1st/ -&lt;blockquote&gt;
&lt;p&gt;如何在 Ubuntu 中安装一些开发软件。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;v2ray&#34;&gt;v2ray&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;下载并安装 &lt;code&gt;v2ray&lt;/code&gt; 脚本&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/v2ray/v2ray-core/releases&#34;&gt;v2ray-core/release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下载最新版的 &lt;code&gt;v2ray&lt;/code&gt; Linux 压缩包，并通过脚本在本地安装&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ curl https://github.com/v2ray/v2ray-core/releases/download/v4.22.1/v2ray-linux-64.zip
$ curl -L -s https://install.direct/go.sh -o go.sh
$ sudo su
&lt;span style=&#34;color:#75715e&#34;&gt;# bash go.sh --local ./v2ray-linux-64.zip&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;配置 Server&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;首先，你得有一台在境外的 VPS &amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;配置 Client&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;编辑配置文件：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# vim /etc/v2ray/config.json&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;按如下示例配置：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-cfg&#34; data-lang=&#34;cfg&#34;&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;{&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;inbounds&amp;#34;: [{&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;port&amp;#34;: 1080,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;listen&amp;#34;: &amp;#34;127.0.0.1&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;protocol&amp;#34;: &amp;#34;socks&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;tag&amp;#34;: &amp;#34;socks-inbound&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;settings&amp;#34;: {&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;auth&amp;#34;: &amp;#34;noauth&amp;#34;,&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;udp&amp;#34;: true,&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;ip&amp;#34;: &amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;},&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;sniffing&amp;#34;: {&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;enbale&amp;#34;: true,&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;destOverride&amp;#34;: [ &amp;#34;http&amp;#34;, &amp;#34;tls&amp;#34; ]&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;}&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;}],&lt;/span&gt;
  
  &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;outbounds&amp;#34;: [{&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;protocol&amp;#34;: &amp;#34;vmess&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;settings&amp;#34;: {&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;vnext&amp;#34;: [{&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;address&amp;#34;: &amp;#34;**.**.**.**&amp;#34;, // 服务器地址，请修改为你自己的服务器 ip 或 域名&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;port&amp;#34;: 12345,  // 服务器配置的端口&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;users&amp;#34;: [{ &lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;id&amp;#34;: &amp;#34;*****-****-****-****-*********&amp;#34;  //与服务端保持一致&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;alterId&amp;#34;: 123  //与服务端保持一致&lt;/span&gt;
        &lt;span style=&#34;color:#a6e22e&#34;&gt;}]&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;}]&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;},&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;tag&amp;#34;: &amp;#34;myVPN&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;},&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;{&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;protocol&amp;#34;: &amp;#34;freedom&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;settings&amp;#34;: {},&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;tag&amp;#34;: &amp;#34;direct&amp;#34;&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;}],&lt;/span&gt;
  
  &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;routing&amp;#34;: {&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;domainStrategy&amp;#34;: &amp;#34;IPOnDemand&amp;#34;,&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;rules&amp;#34;: [{&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;type&amp;#34;: &amp;#34;field&amp;#34;,&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;ip&amp;#34;: [&amp;#34;geoip:private&amp;#34;],&lt;/span&gt;
      &lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;#34;outboundTag&amp;#34;: &amp;#34;direct&amp;#34;&lt;/span&gt;
    &lt;span style=&#34;color:#a6e22e&#34;&gt;}]&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;}&lt;/span&gt;
&lt;span style=&#34;color:#a6e22e&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;仅配置浏览器代理&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果仅配置浏览器的代理，就只能通过浏览器访问外部网站，在命令行中依旧不能链接到外部。以 Firefox 为例，配置如下。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/02/20/QcEm4HdrkSuTbMV.png&#34; alt=&#34;firefox-proxy&#34;&gt;&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;全局配置&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;进入系统设置，选择 「Network」，设置 「Network Proxy」。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://i.loli.net/2020/02/20/zdhLEXNM1kR3Uey.png&#34; alt=&#34;global-config&#34;&gt;&lt;/p&gt;
&lt;p&gt;但仅仅上述配置，会使得所有流量都通过 VPS 后再去访问具体网站，在访问国内的网站时也会走一遍代理，导致访问较慢。&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;配置 PAC(Proxy Auto Config) 模式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;见 &lt;a href=&#34;https://github.com/JinnLynn/genpac&#34;&gt;GenPAC&lt;/a&gt; 和 &lt;a href=&#34;https://github.com/gfwlist/gfwlist&#34;&gt;gfwlist&lt;/a&gt; 项目&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ pip install genpac

$ sudo su
// 从 gfwlist 生成代理信息为 SOCKS5 127.0.0.1:1080 的 PAC 文件
&lt;span style=&#34;color:#75715e&#34;&gt;# genpac --format=pac --pac-proxy=&amp;#34;SOCKS5 127.0.0.1:1080&amp;#34; -o /etc/v2ray/autoproxy.pac&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;7&#34;&gt;
&lt;li&gt;可供参考文档&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://www.v2ray.com/&#34;&gt;v2ray&lt;/a&gt; (需代理)&lt;br&gt;
&lt;a href=&#34;https://toutyrater.github.io/&#34;&gt;V2Ray 配置指南&lt;/a&gt; (需代理)&lt;br&gt;
&lt;a href=&#34;https://yuan.ga/v2ray-complete-tutorial/&#34;&gt;V2Ray完全使用教程&lt;/a&gt;&lt;br&gt;
&lt;a href=&#34;https://www.imcaviare.com/201812181245/&#34;&gt;Linux下使用V2ray客户端以及PAC配置&lt;/a&gt;&lt;/p&gt;
- https://kipjiang.github.io/note/2020/02/15/working-with-ubuntu-1st/ - 2019-2020 &amp;#183; [Kip Jiang](/)</description>
        </item>
    
    
  </channel>
</rss> 